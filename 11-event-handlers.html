<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <script type="text/babel">
    const rootElement = document.getElementById('root')



    function CustomApp() {

      const [clickCount, setCount] = React.useState(() => {
        console.log('use state click')
        return 0
      }) 
      const [name, setName] = React.useState(() => window.localStorage.getItem('name') ||  '')

      React.useEffect(() => {
        console.log('use effect')
        window.localStorage.setItem('name', name)
      }, [name]) 

      const handleClick = () => setCount(c => c + 1)
      const handleChange = (event) => {
        handleClick()
        setName(event.target.value)
      }
      
      return (
        <div>
          <button onClick={handleClick}>Click {clickCount}</button>
          <div>
          <input onChange={handleChange}/>
          </div>
          <p>Hello {name}</p>
        </div>
      )
    }

ReactDOM.render(<CustomApp />, rootElement)


// --------------------- 
    // const state = {eventCount: 0, username: ''}

    // function App() {
    //   function handleClick() {
    //     setState({eventCount: state.eventCount + 1})
    //   }

    //   function handleChange(event) {
    //     setState({username: event.target.value})
    //   }

    //   return (
    //     <div>
    //       <p>There have been {state.eventCount} events.</p>
    //       <p>
    //         <button onClick={handleClick}>Click Me</button>
    //       </p>
    //       <p>You typed: {state.username}</p>
    //       <p>
    //         <input onChange={handleChange} />
    //       </p>
    //     </div>
    //   )
    // }

    // function setState(newState) {
    //   Object.assign(state, newState)
    //   renderApp()
    // }

    // function renderApp() {
    //   ReactDOM.render(<App />, document.getElementById('root'))
    // }

    // renderApp()
  </script>
</body>
